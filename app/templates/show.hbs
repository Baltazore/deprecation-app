<LayoutProvider
  @content={{this.content}}
  as |layout|
>

  {{#if layout.processResults.isIdle}}
    <EsButton
      class="toc-toggle"
      aria-label="expand table of contents"
      title="expand table of contents"
      aria-expanded={{this.displayMobileToc}}
      @onClicked={{action "toggleToc"}}
    >
      <img src="/images/expand.svg" alt="expand table of contents">
    </EsButton>
    <div class="layout-grid fade-in">
      <LayoutProvider::SideBarLayout
        @sortedGroupedResults={{layout.sortedGroupedResults}}
        @displayMobileToc={{this.displayMobileToc}}
        @processingResults={{layout.processResults.isRunning}}
      />

      <LayoutProvider::MainLayout
        @version={{this.version}}
        @project={{this.project}}
        @renderIdOrUntil={{this.renderIdOrUntil}}
        @displayMobileToc={{this.displayMobileToc}}
        @sortedGroupedResults={{this.sortedGroupedResults}}
      />
    </div>
  {{/if}}
</LayoutProvider>

